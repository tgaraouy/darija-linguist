(function(){"use strict";var e={2079:function(e,t,n){var r=n(3751),a=n(641),o=n(6450),l=n(8477);function u(e,t,n,r,u,i){const s=(0,a.g2)("DarijaLinguist");return(0,a.uX)(),(0,a.Wv)(o.E,null,{default:(0,a.k6)((()=>[(0,a.bF)(l.Y,null,{default:(0,a.k6)((()=>[(0,a.bF)(s)])),_:1})])),_:1})}var i=n(33),s=n(266),c=n(2807),d=n(4593),f=n(1606),g=n(5832),p=n(697),v=n(3745),b=n(4484),k=n(418),h=n(8003),_=n(3813),m=n(6756),F=n(5526),y=n(1720),W=n(9669),j=n(6938),x=n(4117),w=n(4913),C=n(3263),E=n(6106),O=n(400);const R=e=>((0,a.Qi)("data-v-329034aa"),e=e(),(0,a.jt)(),e),P=R((()=>(0,a.Lk)("h1",{class:"text-h4 text-sm-h3 mb-6 text-center primary--text"},"Open Darija",-1))),S={class:"text-h3 text-sm-h2 darija-font main-word"},D=R((()=>(0,a.Lk)("strong",null,"Arabic Script:",-1))),L={class:"darija-font"},X=R((()=>(0,a.Lk)("strong",null,"MSA Equivalent:",-1))),U={class:"darija-font"},K=R((()=>(0,a.Lk)("strong",null,"Region:",-1))),A=["src"];function M(e,t,n,r,o,l){const u=(0,a.g2)("v-expansion-panel-header"),R=(0,a.g2)("v-list-item-content"),M=(0,a.g2)("v-expansion-panel-content");return(0,a.uX)(),(0,a.Wv)(_.I,{class:"darija-linguist"},{default:(0,a.k6)((()=>[P,r.loading?((0,a.uX)(),(0,a.Wv)(d.J,{key:0,class:"text-center pa-6"},{default:(0,a.k6)((()=>[(0,a.bF)(E.x,{indeterminate:"",color:"primary"})])),_:1})):r.error?((0,a.uX)(),(0,a.Wv)(s.l,{key:1,type:"error",class:"mb-6"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(r.error),1)])),_:1})):r.currentWord?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.bF)(d.J,{class:"mb-6"},{default:(0,a.k6)((()=>[(0,a.bF)(f.r,{class:"justify-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",S,(0,i.v_)(r.currentWord.darija),1)])),_:1}),(0,a.bF)(g.Z,{class:"text-h6 text-sm-h5 text-center"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(r.currentWord.phonetic),1)])),_:1}),(0,a.bF)(p.O,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bF)(c.D,{color:"primary",onClick:r.speakWord,class:"ma-2"},{default:(0,a.k6)((()=>[(0,a.bF)(W.w,{left:""},{default:(0,a.k6)((()=>[(0,a.eW)("mdi-volume-high")])),_:1}),(0,a.eW)(" Speak ")])),_:1},8,["onClick"]),(0,a.bF)(c.D,{color:"secondary",onClick:r.openPhoneticDialog,class:"ma-2"},{default:(0,a.k6)((()=>[(0,a.eW)(" Suggest Correction ")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(m.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(F.B,{cols:"12",md:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(d.J,{class:"mb-6"},{default:(0,a.k6)((()=>[(0,a.bF)(f.r,null,{default:(0,a.k6)((()=>[(0,a.eW)("Word Details")])),_:1}),(0,a.bF)(p.O,null,{default:(0,a.k6)((()=>[(0,a.bF)(m.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(F.B,{cols:"12"},{default:(0,a.k6)((()=>[D,(0,a.eW)(),(0,a.Lk)("span",L,(0,i.v_)(r.currentWord.arabicScript),1)])),_:1}),(0,a.bF)(F.B,{cols:"12"},{default:(0,a.k6)((()=>[X,(0,a.eW)(),(0,a.Lk)("span",U,(0,i.v_)(r.currentWord.msaEquivalent),1)])),_:1}),(0,a.bF)(F.B,{cols:"12"},{default:(0,a.k6)((()=>[K,(0,a.eW)(" "+(0,i.v_)(r.currentWord.region),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(F.B,{cols:"12",md:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(d.J,null,{default:(0,a.k6)((()=>[(0,a.bF)(f.r,null,{default:(0,a.k6)((()=>[(0,a.eW)("Examples")])),_:1}),(0,a.bF)(p.O,null,{default:(0,a.k6)((()=>[(0,a.bF)(k.$,null,{default:(0,a.k6)((()=>[(0,a.bF)(h.c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)("Darija")])),_:1}),(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(j.x8,{dense:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.currentWord.usageDarija,((e,t)=>((0,a.uX)(),(0,a.Wv)(x.g,{key:`darija-${t}`},{default:(0,a.k6)((()=>[(0,a.bF)(R,null,{default:(0,a.k6)((()=>[(0,a.bF)(w.U,{class:"darija-font darija-example"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(C.k,null,{default:(0,a.k6)((()=>[(0,a.bF)(c.D,{icon:"",small:"",onClick:t=>r.speakExample(e)},{default:(0,a.k6)((()=>[(0,a.bF)(W.w,null,{default:(0,a.k6)((()=>[(0,a.eW)("mdi-volume-high")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),(0,a.bF)(h.c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)("French")])),_:1}),(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(j.x8,{dense:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.currentWord.usageFrench,((e,t)=>((0,a.uX)(),(0,a.Wv)(x.g,{key:`french-${t}`},{default:(0,a.k6)((()=>[(0,a.bF)(R,null,{default:(0,a.k6)((()=>[(0,a.bF)(w.U,{class:"french-font"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),(0,a.bF)(h.c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)("English")])),_:1}),(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(j.x8,{dense:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.currentWord.usageEnglish,((e,t)=>((0,a.uX)(),(0,a.Wv)(x.g,{key:`english-${t}`},{default:(0,a.k6)((()=>[(0,a.bF)(R,null,{default:(0,a.k6)((()=>[(0,a.bF)(w.U,{class:"english-font"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(m.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(F.B,{cols:"12",class:"text-center mt-6"},{default:(0,a.k6)((()=>[(0,a.bF)(c.D,{onClick:r.previousWord,class:"ma-2"},{default:(0,a.k6)((()=>[(0,a.bF)(W.w,{left:""},{default:(0,a.k6)((()=>[(0,a.eW)("mdi-chevron-left")])),_:1}),(0,a.eW)(" Previous ")])),_:1},8,["onClick"]),(0,a.bF)(c.D,{onClick:r.nextWord,class:"ma-2"},{default:(0,a.k6)((()=>[(0,a.eW)(" Next "),(0,a.bF)(W.w,{right:""},{default:(0,a.k6)((()=>[(0,a.eW)("mdi-chevron-right")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})],64)):(0,a.Q3)("",!0),(0,a.bF)(b.p,{modelValue:r.phoneticDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>r.phoneticDialog=e),"max-width":"500px"},{default:(0,a.k6)((()=>[(0,a.bF)(d.J,null,{default:(0,a.k6)((()=>[(0,a.bF)(f.r,null,{default:(0,a.k6)((()=>[(0,a.eW)("Suggest Phonetic Correction")])),_:1}),(0,a.bF)(p.O,null,{default:(0,a.k6)((()=>[(0,a.bF)(O.W,{modelValue:r.suggestedPhonetic,"onUpdate:modelValue":t[0]||(t[0]=e=>r.suggestedPhonetic=e),label:"Suggested Phonetic Pronunciation",placeholder:r.currentWord?r.currentWord.phonetic:""},null,8,["modelValue","placeholder"]),r.isRecording?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(c.D,{key:0,onClick:r.startRecording,color:"primary",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.eW)(" Start Recording ")])),_:1},8,["onClick"])),r.isRecording?((0,a.uX)(),(0,a.Wv)(c.D,{key:1,onClick:r.stopRecording,color:"error",class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.eW)(" Stop Recording ")])),_:1},8,["onClick"])):(0,a.Q3)("",!0),r.audioUrl?((0,a.uX)(),(0,a.CE)("audio",{key:2,src:r.audioUrl,controls:"",class:"w-100"},null,8,A)):(0,a.Q3)("",!0),r.feedback?((0,a.uX)(),(0,a.Wv)(s.l,{key:3,type:r.feedback.includes("Error")?"error":"success",class:"mt-3"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(r.feedback),1)])),_:1},8,["type"])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(v.S,null,{default:(0,a.k6)((()=>[(0,a.bF)(y.h),(0,a.bF)(c.D,{color:"primary",text:"",onClick:r.submitPhoneticSuggestion,disabled:!r.suggestedPhonetic},{default:(0,a.k6)((()=>[(0,a.eW)("Submit")])),_:1},8,["onClick","disabled"]),(0,a.bF)(c.D,{color:"grey",text:"",onClick:t[1]||(t[1]=e=>r.phoneticDialog=!1)},{default:(0,a.k6)((()=>[(0,a.eW)("Cancel")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}n(4114),n(4603),n(7566),n(8721);var B=n(953),T=n(2505),N=n.n(T),V={name:"DarijaLinguist",setup(){const e=(0,B.KR)([]),t=(0,B.KR)(0),n=(0,B.KR)(!1),r=(0,B.KR)(null),o=(0,B.KR)(!1),l=(0,B.KR)(""),u=(0,B.KR)(!1),i=(0,B.KR)(""),s=(0,B.KR)("");let c=null,d=[];const f=async()=>{n.value=!0,r.value=null;try{const t=await N().get("http://localhost:5000/api/words");e.value=t.data}catch(t){r.value="Failed to fetch words. Please try again.",console.error("Error fetching words:",t)}finally{n.value=!1}},g=(0,a.EW)((()=>e.value[t.value])),p=()=>{t.value=(t.value+1)%e.value.length},v=()=>{t.value=(t.value-1+e.value.length)%e.value.length},b=e=>{const t=new SpeechSynthesisUtterance(e);t.lang="ar-MA",speechSynthesis.speak(t)},k=()=>{g.value&&b(g.value.darija)},h=e=>{b(e)},_=()=>{l.value=g.value?g.value.phonetic:"",o.value=!0},m=async()=>{const e=await navigator.mediaDevices.getUserMedia({audio:!0});c=new MediaRecorder(e),c.start(),u.value=!0,d=[],c.addEventListener("dataavailable",(e=>{d.push(e.data)})),c.addEventListener("stop",(()=>{const e=new Blob(d);i.value=URL.createObjectURL(e),u.value=!1}))},F=()=>{c.stop()},y=async()=>{if(g.value&&l.value)try{s.value="Submitting suggestion...",console.log("Current word:",g.value),console.log("Suggestion data:",{suggestedPhonetic:l.value,audioUrl:i.value});const e=await N().post(`http://localhost:5000/api/words/${g.value._id}/phonetic-suggestion`,{suggestedPhonetic:l.value,audioUrl:i.value});console.log("Server response:",e.data),s.value="Suggestion submitted successfully!",setTimeout((()=>{o.value=!1,s.value="",l.value="",i.value=""}),2e3)}catch(e){console.error("Error submitting phonetic suggestion:",e),e.response?(console.error("Response data:",e.response.data),console.error("Response status:",e.response.status),console.error("Response headers:",e.response.headers)):e.request?console.error("No response received:",e.request):console.error("Error setting up request:",e.message),s.value=`Error submitting suggestion: ${e.response?e.response.data.message:e.message}`}else s.value="Please enter a suggested pronunciation."};return(0,a.sV)(f),{currentWord:g,nextWord:p,previousWord:v,speakWord:k,speakExample:h,loading:n,error:r,phoneticDialog:o,suggestedPhonetic:l,openPhoneticDialog:_,submitPhoneticSuggestion:y,startRecording:m,stopRecording:F,isRecording:u,audioUrl:i,feedback:s}}},$=n(6262);const q=(0,$.A)(V,[["render",M],["__scopeId","data-v-329034aa"]]);var Q=q,I=(0,a.pM)({name:"App",components:{DarijaLinguist:Q}});const J=(0,$.A)(I,[["render",u]]);var Y=J,Z=(n(5524),n(1036)),z=(0,Z.$N)();async function G(){const e=await n.e(53).then(n.t.bind(n,5371,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}G(),(0,r.Ef)(Y).use(z).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var u=!0,i=0;i<r.length;i++)(!1&o||l>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[i])}))?r.splice(i--,1):(u=!1,o<l&&(l=o));if(u){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var u=2&a&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){l[e]=function(){return r[e]}}));return l["default"]=function(){return r},n.d(o,l),o}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/webfontloader.92397f89.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="darija-linguist-frontend:";n.l=function(r,a,o,l){if(e[r])e[r].push(a);else{var u,i;if(void 0!==o)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){u=d;break}}u||(i=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+o),u.src=r),e[r]=[a];var f=function(t,n){u.onerror=u.onload=null,clearTimeout(g);var a=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),a&&a.forEach((function(e){return e(n)})),t)return t(n)},g=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),i&&document.head.appendChild(u)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/darija-linguist/"}(),function(){var e={524:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var l=n.p+n.u(t),u=new Error,i=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",u.name="ChunkLoadError",u.type=o,u.request=l,a[1](u)}};n.l(l,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,l=r[0],u=r[1],i=r[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(i)var c=i(n)}for(t&&t(r);s<l.length;s++)o=l[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkdarija_linguist_frontend"]=self["webpackChunkdarija_linguist_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(2079)}));r=n.O(r)})();